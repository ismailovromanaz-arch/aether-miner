<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aether Radar</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<style>

/* GLOBAL */

*{ -webkit-tap-highlight-color: transparent; }

body{
margin:0;
font-family:Arial;
background:#000;
color:#8dffb8;
text-align:center;
overflow:hidden;
}

/* HUD */

.hud{
display:flex;
align-items:center;
gap:10px;
padding:15px;
}

.avatar{
width:45px;
height:45px;
border-radius:50%;
border:2px solid #00ff9c;
box-shadow:0 0 15px #00ff9c;
}

/* RADAR WRAP */

.radar-wrap{
position:relative;
width:280px;
height:280px;
margin:20px auto;
cursor:pointer;
}

/* RADAR BASE */

.radar{
width:100%;
height:100%;
border-radius:50%;
position:relative;
overflow:hidden;

background:
radial-gradient(circle,#001a0f,#000);

/* GRID */

background-image:
linear-gradient(#00ff9c22 1px, transparent 1px),
linear-gradient(90deg,#00ff9c22 1px, transparent 1px);

background-size:30px 30px;

border:2px solid #00ff9c;
box-shadow:
0 0 40px #00ff9c,
inset 0 0 40px #00ff9c;
}

/* RANGE RINGS */

.ring{
position:absolute;
border:1px solid #00ff9c55;
border-radius:50%;
}

.r1{width:70%;height:70%;top:15%;left:15%;}
.r2{width:40%;height:40%;top:30%;left:30%;}
.r3{width:15%;height:15%;top:42.5%;left:42.5%;}

/* SCAN SECTOR */

.scan{
position:absolute;
width:50%;
height:50%;
top:50%;
left:50%;
transform-origin:0% 0%;

background:linear-gradient(
90deg,
rgba(0,255,156,.5),
transparent);

animation:scan 3s linear infinite;
}

/* BLIPS */

.blip{
position:absolute;
width:6px;
height:6px;
background:#00ff9c;
border-radius:50%;
box-shadow:0 0 10px #00ff9c;
animation:blink 1.5s infinite;
}

/* TAP PULSE */

.pulse{
position:absolute;
border:2px solid #00ff9c;
border-radius:50%;
animation:pulse .6s ease-out;
pointer-events:none;
}

/* ENERGY */

.bar{
width:90%;
height:20px;
margin:20px auto;
border-radius:12px;
overflow:hidden;
border:1px solid #00ff9c;
box-shadow:0 0 15px #00ff9c;
}

.fill{
height:100%;
background:linear-gradient(
90deg,#00ff9c,#00ffa1);
width:100%;
}

/* NAVBAR */

.navbar{
position:fixed;
bottom:0;
width:100%;
height:80px;
background:#010201;
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid #003322;
}

.tab{color:#006644;}
.tab.active{color:#00ff9c;}

/* ANIMATIONS */

@keyframes scan{
from{transform:rotate(0)}
to{transform:rotate(360deg)}
}

@keyframes blink{
50%{opacity:.2}
}

@keyframes pulse{
from{
width:0;
height:0;
opacity:1;
}
to{
width:120px;
height:120px;
opacity:0;
}
}

</style>
</head>

<body>

<!-- HUD -->

<div class="hud">
<img id="avatar" class="avatar">
<div id="welcome">Welcome</div>
</div>

<!-- RADAR -->

<div class="radar-wrap"
onclick="mine(event)">

<div class="radar" id="radar">

<div class="ring r1"></div>
<div class="ring r2"></div>
<div class="ring r3"></div>

<div class="scan"></div>

</div>

</div>

<h3>
Fragments:
<span id="af">0</span>
/ 5 000
</h3>

<h3>
Aether:
<span id="aeth">0</span>
</h3>

<div class="bar">
<div class="fill" id="energyBar"></div>
</div>

<p>
Energy:
<span id="energy">100</span>
/100
</p>

<!-- NAVBAR -->

<div class="navbar">
<div class="tab active">Miner</div>
<div class="tab">Menu</div>
<div class="tab">Convert</div>
<div class="tab">Special</div>
</div>

<script>

/* TELEGRAM */

const tg=window.Telegram.WebApp;
tg.expand();

let user=tg.initDataUnsafe?.user;

if(user){
welcome.innerText=
"Welcome, "+user.first_name;

avatar.src=
user.photo_url ||
"https://i.imgur.com/6VBx3io.png";
}

/* SAVE */

let af=
parseInt(localStorage.getItem("af"))||0;

let aeth=
parseInt(localStorage.getItem("aeth"))||0;

let energy=
parseInt(localStorage.getItem("energy"))||100;

const maxEnergy=100;

/* TAP */

function mine(e){

if(energy<=0)return;

af++;
energy--;

spawnBlip();
pulse(e);
vibrate();

save();
updateUI();
}

/* BLIPS */

function spawnBlip(){

const b=document.createElement("div");
b.className="blip";

b.style.left=Math.random()*90+"%";
b.style.top=Math.random()*90+"%";

radar.appendChild(b);

setTimeout(()=>b.remove(),3000);
}

/* TAP PULSE */

function pulse(e){

const p=document.createElement("div");
p.className="pulse";

p.style.left=(e.offsetX-60)+"px";
p.style.top=(e.offsetY-60)+"px";

radar.appendChild(p);

setTimeout(()=>p.remove(),600);
}

/* VIBRATION */

function vibrate(){

if(navigator.vibrate)
navigator.vibrate(30);
}

/* ENERGY REGEN */

setInterval(()=>{

if(energy<maxEnergy){
energy++;
save();
updateUI();
}

},3000);

/* SAVE */

function save(){

localStorage.setItem("af",af);
localStorage.setItem("aeth",aeth);
localStorage.setItem("energy",energy);
}

/* UI */

function updateUI(){

afEl.innerText=af;
aethEl.innerText=aeth;
energyEl.innerText=energy;

energyBar.style.width=
(energy/maxEnergy*100)+"%";
}

const afEl=document.getElementById("af");
const aethEl=document.getElementById("aeth");
const energyEl=document.getElementById("energy");
const energyBar=document.getElementById("energyBar");
const radar=document.getElementById("radar");

updateUI();

</script>
</body>
</html>
