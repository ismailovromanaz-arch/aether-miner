<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>

body{
margin:0;
background:#000;
color:#00ff9c;
font-family:Arial;
text-align:center;
}

/* ===== SHIP FRAME ===== */

.ship-frame{
width:260px;
height:260px;
margin:20px auto;
border:2px dashed #00ff9c55;
border-radius:20px;
position:relative;
overflow:hidden;
}

/* Parts in frame */

.frame-part{
position:absolute;
opacity:.15;
transition:.5s;
}

.frame-part.owned{
opacity:1;
box-shadow:0 0 25px #00ff9c;
}

/* Shapes */

.cockpit{
width:80px;height:40px;
background:#00ff9c;
top:20px;left:50%;
transform:translateX(-50%);
clip-path:polygon(0 100%,50% 0,100% 100%);
}

.wings{
width:200px;height:40px;
background:#00ff9c;
top:100px;left:50%;
transform:translateX(-50%);
}

.engine{
width:160px;height:40px;
background:#00ff9c;
bottom:20px;left:50%;
transform:translateX(-50%);
}

.reactor{
width:50px;height:50px;
background:#00ff9c;
border-radius:50%;
top:105px;left:50%;
transform:translate(-50%);
}

/* ===== SHOP ROW ===== */

.shop{
display:flex;
justify-content:center;
gap:10px;
margin-top:20px;
}

.shop-part{
width:70px;
height:70px;
background:#111;
border:1px solid #00ff9c33;
border-radius:12px;
position:relative;
filter:blur(2px);
opacity:.6;
cursor:pointer;
transition:.3s;
}

.shop-part.unlocked{
filter:none;
opacity:1;
box-shadow:0 0 10px #00ff9c;
}

/* Lock */

.lock{
position:absolute;
top:50%;left:50%;
transform:translate(-50%,-50%);
font-size:20px;
}

/* ===== RESET ===== */

.reset{
margin-top:20px;
padding:10px 20px;
background:#001a12;
border:1px solid #00ff9c;
border-radius:12px;
color:#00ff9c;
cursor:pointer;
}

</style>
</head>

<body>

<h2>Ship Assembly</h2>

<!-- FRAME -->

<div class="ship-frame">

<div id="f_cockpit"
class="frame-part cockpit"></div>

<div id="f_wings"
class="frame-part wings"></div>

<div id="f_engine"
class="frame-part engine"></div>

<div id="f_reactor"
class="frame-part reactor"></div>

</div>

<p>
Owned:
<span id="owned">0</span>/4
</p>

<p id="boost"></p>

<!-- SHOP -->

<div class="shop">

<div class="shop-part"
onclick="buy('cockpit')"
id="s_cockpit">
<div class="lock">ðŸ”’</div>
</div>

<div class="shop-part"
onclick="buy('wings')"
id="s_wings">
<div class="lock">ðŸ”’</div>
</div>

<div class="shop-part"
onclick="buy('engine')"
id="s_engine">
<div class="lock">ðŸ”’</div>
</div>

<div class="shop-part"
onclick="buy('reactor')"
id="s_reactor">
<div class="lock">ðŸ”’</div>
</div>

</div>

<!-- RESET -->

<button class="reset"
onclick="resetPuzzle()">
RESET PUZZLE
</button>

<script>

/* SAVE */

let ship=
JSON.parse(
localStorage.getItem("ship")
)||{
cockpit:false,
wings:false,
engine:false,
reactor:false
};

/* BUY */

function buy(part){

ship[part]=true;

localStorage.setItem(
"ship",
JSON.stringify(ship)
);

update();
}

/* UPDATE */

function update(){

let owned=0;

for(let p in ship){

if(ship[p]){

owned++;

document
.getElementById(
"f_"+p)
.classList.add("owned");

document
.getElementById(
"s_"+p)
.classList.add("unlocked");

}

}

ownedEl.innerText=owned;

if(owned===4){
boost.innerText=
"MEGA BOOST ACTIVE â€” 30 DAYS";
}

}

const ownedEl=
document.getElementById("owned");

const boost=
document.getElementById("boost");

update();

/* RESET */

function resetPuzzle(){

localStorage.removeItem("ship");

ship={
cockpit:false,
wings:false,
engine:false,
reactor:false
};

location.reload();

}

</script>
</body>
</html>
