<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aether Radar</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<style>

/* GLOBAL */

*{ -webkit-tap-highlight-color: transparent; }

body{
margin:0;
font-family:Arial;
background:#000;
color:#8dffb8;
text-align:center;
overflow:hidden;
}

/* HUD */

.hud{
display:flex;
align-items:center;
gap:10px;
padding:15px;
}

.avatar{
width:45px;
height:45px;
border-radius:50%;
border:2px solid #00ff9c;
box-shadow:0 0 15px #00ff9c;
}

/* RADAR WRAP */

.radar-wrap{
position:relative;
width:280px;
height:280px;
margin:20px auto;
cursor:pointer;
}

/* RADAR */

.radar{
width:100%;
height:100%;
border-radius:50%;
position:relative;
overflow:hidden;

background:
radial-gradient(circle,#001a0f,#000);

/* GRID */

background-image:

/* vertical */
linear-gradient(#00ff9c33 1px, transparent 1px),

/* horizontal */
linear-gradient(90deg,#00ff9c33 1px, transparent 1px);

background-size:25px 25px;

border:2px solid #00ff9c;
box-shadow:
0 0 40px #00ff9c,
inset 0 0 40px #00ff9c;
}

/* CROSSHAIR */

.cross-h,
.cross-v{
position:absolute;
background:#00ff9c66;
}

.cross-h{
width:100%;
height:1px;
top:50%;
}

.cross-v{
height:100%;
width:1px;
left:50%;
}

/* RANGE RINGS */

.ring{
position:absolute;
border:1px solid #00ff9c55;
border-radius:50%;
}

.r1{width:75%;height:75%;top:12.5%;left:12.5%;}
.r2{width:50%;height:50%;top:25%;left:25%;}
.r3{width:25%;height:25%;top:37.5%;left:37.5%;}

/* CENTER DOT */

.center{
position:absolute;
width:8px;
height:8px;
background:#00ff9c;
border-radius:50%;
top:50%;
left:50%;
transform:translate(-50%,-50%);
box-shadow:0 0 10px #00ff9c;
}

/* SCAN */

.scan{
position:absolute;
width:50%;
height:50%;
top:50%;
left:50%;
transform-origin:0% 0%;

background:linear-gradient(
90deg,
rgba(0,255,156,.5),
transparent);

animation:scan 3s linear infinite;
}

/* BLIPS */

.blip{
position:absolute;
width:6px;
height:6px;
background:#00ff9c;
border-radius:50%;
box-shadow:0 0 10px #00ff9c;
animation:blink 1.5s infinite;
}

/* TAP PULSE */

.pulse{
position:absolute;
border:2px solid #00ff9c;
border-radius:50%;
animation:pulse .6s ease-out;
pointer-events:none;
}

/* ===== FUEL ===== */

.fuel-wrap{
width:90%;
margin:20px auto;
}

.fuel-label{
display:flex;
justify-content:space-between;
font-size:14px;
}

.fuel-bar{
width:100%;
height:18px;
border-radius:12px;
overflow:hidden;
border:1px solid #00ff9c;
box-shadow:0 0 15px #00ff9c;
}

.fuel-fill{
height:100%;
width:100%;
background:linear-gradient(
90deg,
#00ff9c,
#ffee00,
#ff2b2b);
}

/* NAVBAR */

.navbar{
position:fixed;
bottom:0;
width:100%;
height:80px;
background:#010201;
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid #003322;
}

.tab{color:#006644;}
.tab.active{color:#00ff9c;}

/* ANIMATIONS */

@keyframes scan{
from{transform:rotate(0)}
to{transform:rotate(360deg)}
}

@keyframes blink{
50%{opacity:.2}
}

@keyframes pulse{
from{
width:0;
height:0;
opacity:1;
}
to{
width:120px;
height:120px;
opacity:0;
}
}

</style>
</head>

<body>

<!-- HUD -->

<div class="hud">
<img id="avatar" class="avatar">
<div id="welcome">Welcome</div>
</div>

<!-- RADAR -->

<div class="radar-wrap"
onclick="mine(event)">

<div class="radar" id="radar">

<div class="cross-h"></div>
<div class="cross-v"></div>

<div class="ring r1"></div>
<div class="ring r2"></div>
<div class="ring r3"></div>

<div class="center"></div>

<div class="scan"></div>

</div>

</div>

<h3>
Fragments:
<span id="af">0</span>
/ 5 000
</h3>

<h3>
Aether:
<span id="aeth">0</span>
</h3>

<!-- FUEL -->

<div class="fuel-wrap">

<div class="fuel-label">
<span>Fuel</span>
<span id="fuelText">100 / 100</span>
</div>

<div class="fuel-bar">
<div class="fuel-fill"
id="fuelBar"></div>
</div>

</div>

<!-- NAVBAR -->

<div class="navbar">
<div class="tab active">Miner</div>
<div class="tab">Menu</div>
<div class="tab">Convert</div>
<div class="tab">Special</div>
</div>

<script>

/* TELEGRAM */

const tg=window.Telegram.WebApp;
tg.expand();

let user=tg.initDataUnsafe?.user;

if(user){
welcome.innerText=
"Welcome, "+user.first_name;

avatar.src=
user.photo_url ||
"https://i.imgur.com/6VBx3io.png";
}

/* SAVE */

let af=
parseInt(localStorage.getItem("af"))||0;

let aeth=
parseInt(localStorage.getItem("aeth"))||0;

let fuel=
parseInt(localStorage.getItem("fuel"))||100;

const maxFuel=100;

/* TAP */

function mine(e){

if(fuel<=0)return;

af++;
fuel--;

spawnBlip();
pulse(e);

save();
updateUI();
}

/* BLIPS */

function spawnBlip(){

const b=document.createElement("div");
b.className="blip";

b.style.left=Math.random()*90+"%";
b.style.top=Math.random()*90+"%";

radar.appendChild(b);

setTimeout(()=>b.remove(),3000);
}

/* TAP PULSE */

function pulse(e){

const p=document.createElement("div");
p.className="pulse";

p.style.left=(e.offsetX-60)+"px";
p.style.top=(e.offsetY-60)+"px";

radar.appendChild(p);

setTimeout(()=>p.remove(),600);
}

/* FUEL REGEN */

setInterval(()=>{

if(fuel<maxFuel){
fuel++;
save();
updateUI();
}

},3000);

/* SAVE */

function save(){

localStorage.setItem("af",af);
localStorage.setItem("aeth",aeth);
localStorage.setItem("fuel",fuel);
}

/* UI */

function updateUI(){

afEl.innerText=af;
aethEl.innerText=aeth;

fuelText.innerText=
fuel+" / "+maxFuel;

fuelBar.style.width=
(fuel/maxFuel*100)+"%";
}

const afEl=document.getElementById("af");
const aethEl=document.getElementById("aeth");
const fuelText=document.getElementById("fuelText");
const fuelBar=document.getElementById("fuelBar");
const radar=document.getElementById("radar");

updateUI();

</script>
</body>
</html>
