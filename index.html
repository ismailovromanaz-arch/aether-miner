<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Aether Miner</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<style>

/* GLOBAL */

*{
-webkit-tap-highlight-color: transparent;
}

body{
margin:0;
font-family:Arial;
background:radial-gradient(circle,#070718,#000);
color:#aefcff;
overflow:hidden;
user-select:none;
text-align:center;
}

/* CORE CONTAINER */

.core-wrap{
position:relative;
width:220px;
height:220px;
margin:40px auto;
}

/* OUTER RING */

.ring{
position:absolute;
width:100%;
height:100%;
border-radius:50%;
border:2px solid #00f0ff;
box-shadow:0 0 40px #00f0ff;
animation:spin 8s linear infinite;
}

/* INNER RING */

.ring2{
position:absolute;
width:80%;
height:80%;
top:10%;
left:10%;
border-radius:50%;
border:2px solid #9d4dff;
box-shadow:0 0 40px #9d4dff;
animation:spinReverse 6s linear infinite;
}

/* CORE */

.core{
position:absolute;
width:60%;
height:60%;
top:20%;
left:20%;
border-radius:50%;
cursor:pointer;

background:
radial-gradient(circle,
#00f0ff,
#9d4dff,
#050510);

box-shadow:
0 0 40px #00f0ff,
0 0 80px #9d4dff,
inset 0 0 40px #00f0ff;

animation:pulse 2s infinite;
}

/* SPIN */

@keyframes spin{
from{transform:rotate(0)}
to{transform:rotate(360deg)}
}

@keyframes spinReverse{
from{transform:rotate(360deg)}
to{transform:rotate(0)}
}

/* PULSE */

@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.08)}
100%{transform:scale(1)}
}

/* FLOAT TEXT */

.float{
position:absolute;
color:#00f0ff;
font-weight:bold;
animation:floatUp 1s forwards;
pointer-events:none;
}

@keyframes floatUp{
from{opacity:1;transform:translateY(0)}
to{opacity:0;transform:translateY(-60px)}
}

/* ENERGY */

.bar{
width:90%;
height:20px;
margin:20px auto;
border-radius:12px;
overflow:hidden;
border:1px solid #00f0ff;
box-shadow:0 0 15px #00f0ff;
}

.fill{
height:100%;
background:linear-gradient(
90deg,#00f0ff,#9d4dff);
width:100%;
transition:.3s;
}

/* BUTTON */

button{
width:90%;
padding:16px;
font-size:16px;
border:none;
border-radius:16px;
background:linear-gradient(
90deg,#9d4dff,#ff2bd6);
color:white;
box-shadow:0 0 25px #9d4dff;
}

/* NAVBAR */

.navbar{
position:fixed;
bottom:0;
width:100%;
height:80px;
background:#070712;
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid #15152a;
}

.tab{
color:#666;
}

.tab.active{
color:#00f0ff;
}

</style>
</head>

<body>

<h2 id="welcome">Aether Miner</h2>

<!-- CORE -->

<div class="core-wrap"
onclick="mine(event)">

<div class="ring"></div>
<div class="ring2"></div>
<div class="core"></div>

</div>

<h3>
Fragments:
<span id="af">0</span>
/ 5 000
</h3>

<h3>
Aether:
<span id="aeth">0</span>
</h3>

<div class="bar">
<div class="fill"
id="energyBar"></div>
</div>

<p>
Energy:
<span id="energy">100</span>
/100
</p>

<button onclick="convert()">
Convert 10K AF â†’ 1 AETH
</button>

<div class="navbar">
<div class="tab active">Miner</div>
<div class="tab">Convert</div>
</div>

<script>

/* TELEGRAM USER */

const tg=window.Telegram.WebApp;
tg.expand();

let user=tg.initDataUnsafe?.user;

if(user){
welcome.innerText=
"Welcome, "+user.first_name;
}

/* SAVE */

let af=
parseInt(localStorage.getItem("af"))||0;

let aeth=
parseInt(localStorage.getItem("aeth"))||0;

let energy=
parseInt(localStorage.getItem("energy"))||100;

const maxEnergy=100;
const dailyLimit=5000;

/* TAP */

function mine(e){

if(energy<=0)return;
if(af>=dailyLimit)return;

af++;
energy--;

floatText(e);
save();
updateUI();
}

/* FLOAT */

function floatText(e){

const el=document.createElement("div");

el.className="float";
el.innerText="+1";

el.style.left=e.clientX+"px";
el.style.top=e.clientY+"px";

document.body.appendChild(el);

setTimeout(()=>el.remove(),1000);
}

/* CONVERT */

function convert(){

if(af<10000){
alert("Need 10K AF");
return;
}

let c=Math.floor(af/10000);

aeth+=c;
af-=c*10000;

save();
updateUI();
}

/* ENERGY REGEN */

setInterval(()=>{

if(energy<maxEnergy){
energy++;
save();
updateUI();
}

},3000);

/* SAVE */

function save(){

localStorage.setItem("af",af);
localStorage.setItem("aeth",aeth);
localStorage.setItem("energy",energy);
}

/* UI */

function updateUI(){

afEl.innerText=af;
aethEl.innerText=aeth;
energyEl.innerText=energy;

energyBar.style.width=
(energy/maxEnergy*100)+"%";
}

/* DOM */

const afEl=document.getElementById("af");
const aethEl=document.getElementById("aeth");
const energyEl=document.getElementById("energy");
const energyBar=document.getElementById("energyBar");

updateUI();

</script>

</body>
</html>
